diff --git a/include/ws-streaming/connection.hpp b/include/ws-streaming/connection.hpp
index bf3c0ec..2471f0e 100644
--- a/include/ws-streaming/connection.hpp
+++ b/include/ws-streaming/connection.hpp
@@ -62,6 +62,7 @@ namespace wss
             connection(
                 boost::asio::ip::tcp::socket&& socket,
                 bool is_client,
+                std::string local_stream_id,
                 bool use_tcp_protocol = false);
 
             /**
diff --git a/include/ws-streaming/detail/peer.hpp b/include/ws-streaming/detail/peer.hpp
index 7c07a2b..8970385 100644
--- a/include/ws-streaming/detail/peer.hpp
+++ b/include/ws-streaming/detail/peer.hpp
@@ -368,7 +368,7 @@ namespace wss::detail
             template <typename ConstBufferSequence>
             void enqueue(
                 const ConstBufferSequence& buffers,
-                std::size_t size,
+                std::size_t /*size*/,
                 bool do_shutdown_after)
             {
                 std::size_t bytes_buffered = boost::asio::buffer_copy(
diff --git a/include/ws-streaming/listener.hpp b/include/ws-streaming/listener.hpp
index fc402d3..1d2494a 100644
--- a/include/ws-streaming/listener.hpp
+++ b/include/ws-streaming/listener.hpp
@@ -105,9 +105,13 @@ namespace wss
 
             void do_accept()
             {
-                using namespace std::placeholders;
                 acceptor.async_accept(
-                    std::bind(&listener::finish_accept, this->shared_from_this(), _1, _2));
+                    [self_weak = this->weak_from_this()](auto&& ec, auto&& socket) {
+                        if (auto self = self_weak.lock()) {
+                            self->finish_accept(ec, std::forward<decltype(socket)>(socket));
+                        }
+                    }
+                );
             }
 
             void finish_accept(
diff --git a/src/client.cpp b/src/client.cpp
index bda2e68..031892a 100644
--- a/src/client.cpp
+++ b/src/client.cpp
@@ -58,9 +58,22 @@ void wss::client::async_connect(
                 if (response.result() != boost::beast::http::status::switching_protocols)
                     return handler(boost::beast::http::error::bad_status, {});
 
+                std::string connection_local_stream_id;
+                try
+                {
+                    auto remote_endpoint = stream.socket().remote_endpoint();
+                    connection_local_stream_id = remote_endpoint.address().to_string()
+                                                 + ":" + std::to_string(remote_endpoint.port());
+                }
+                catch (const std::exception& /*e*/)
+                {
+                    return;
+                }
+
                 auto connection = std::make_shared<wss::connection>(
                     stream.release_socket(),
-                    true);
+                    true,
+                    connection_local_stream_id);
 
                 auto data = buffer.data();
                 connection->run(data.data(), data.size());
@@ -99,9 +112,22 @@ void wss::client::async_connect(
                         if (ec)
                             return handler(ec, {});
 
+                        std::string connection_local_stream_id;
+                        try
+                        {
+                            auto remote_endpoint = socket->remote_endpoint();
+                            connection_local_stream_id = remote_endpoint.address().to_string()
+                                                         + ":" + std::to_string(remote_endpoint.port());
+                        }
+                        catch (const std::exception& /*e*/)
+                        {
+                            return;
+                        }
+
                         auto connection = std::make_shared<wss::connection>(
                             std::move(*socket),
                             true,
+                            connection_local_stream_id,
                             true);
 
                         connection->run();
diff --git a/src/connection.cpp b/src/connection.cpp
index b0a1c52..ff8b9cc 100644
--- a/src/connection.cpp
+++ b/src/connection.cpp
@@ -28,11 +28,11 @@ using namespace std::placeholders;
 wss::connection::connection(
         boost::asio::ip::tcp::socket&& socket,
         bool is_client,
+        std::string local_stream_id,
         bool use_tcp_protocol)
     : _is_client{is_client}
     , _peer{std::make_shared<detail::peer>(std::move(socket), is_client, use_tcp_protocol)}
-    , _local_stream_id{_peer->socket().remote_endpoint().address().to_string()
-        + ":" + std::to_string(_peer->socket().remote_endpoint().port())}
+    , _local_stream_id{local_stream_id}
 {
     _command_interfaces["jsonrpc"] = { { "httpMethod", "" } };
 }
@@ -51,9 +51,25 @@ void wss::connection::register_external_command_interface(
 
 void wss::connection::run()
 {
-    _on_peer_data_received = _peer->on_data_received.connect(std::bind(&connection::on_peer_data_received, shared_from_this(), _1, _2, _3));
-    _on_peer_metadata_received = _peer->on_metadata_received.connect(std::bind(&connection::on_peer_metadata_received, shared_from_this(), _1, _2, _3));
-    _on_peer_closed = _peer->on_closed.connect(std::bind(&connection::on_peer_closed, shared_from_this(), _1));
+    auto self_weak = weak_from_this();
+
+    _on_peer_data_received = _peer->on_data_received.connect(
+        [self_weak](unsigned signo, const std::uint8_t* data, std::size_t size) {
+            if (auto self = self_weak.lock())
+                self->on_peer_data_received(signo, data, size);
+        });
+
+    _on_peer_metadata_received = _peer->on_metadata_received.connect(
+        [self_weak](unsigned signo, const std::string& method, const nlohmann::json& params) {
+            if (auto self = self_weak.lock())
+                self->on_peer_metadata_received(signo, method, params);
+        });
+
+    _on_peer_closed = _peer->on_closed.connect(
+        [self_weak](const boost::system::error_code& ec) {
+            if (auto self = self_weak.lock())
+                self->on_peer_closed(ec);
+        });
 
     _peer->run();
 
@@ -63,9 +79,28 @@ void wss::connection::run()
 
 void wss::connection::run(const void *data, std::size_t size)
 {
-    _on_peer_data_received = _peer->on_data_received.connect(std::bind(&connection::on_peer_data_received, shared_from_this(), _1, _2, _3));
-    _on_peer_metadata_received = _peer->on_metadata_received.connect(std::bind(&connection::on_peer_metadata_received, shared_from_this(), _1, _2, _3));
-    _on_peer_closed = _peer->on_closed.connect(std::bind(&connection::on_peer_closed, shared_from_this(), _1));
+    auto self_weak = weak_from_this();
+
+    _on_peer_data_received = _peer->on_data_received.connect(
+        [self_weak](unsigned signo, const std::uint8_t* data, std::size_t size)
+        {
+            if (auto self = self_weak.lock())
+                self->on_peer_data_received(signo, data, size);
+        });
+
+    _on_peer_metadata_received = _peer->on_metadata_received.connect(
+        [self_weak](unsigned signo, const std::string& method, const nlohmann::json& params)
+        {
+            if (auto self = self_weak.lock())
+                self->on_peer_metadata_received(signo, method, params);
+        });
+
+    _on_peer_closed = _peer->on_closed.connect(
+        [self_weak](const boost::system::error_code& ec)
+        {
+            if (auto self = self_weak.lock())
+                self->on_peer_closed(ec);
+        });
 
     _peer->run(data, size);
 
@@ -266,6 +301,7 @@ void wss::connection::on_local_signal_metadata_changed(
         }
     }
 
+    entry.value_index = 0;
     _peer->send_metadata(entry.signo, "signal", entry.signal.metadata().json());
 }
 
@@ -316,7 +352,7 @@ void wss::connection::on_signal_subscribe_requested(
         return; // @todo XXX TODO
 
     _command_interface_client->async_request(_remote_stream_id + ".subscribe", { signal_id },
-        [](const boost::system::error_code& ec, const nlohmann::json& response)
+        [](const boost::system::error_code& /*ec*/, const nlohmann::json& /*response*/)
         {
         });
 }
@@ -328,7 +364,7 @@ void wss::connection::on_signal_unsubscribe_requested(
         return; // @todo XXX TODO
 
     _command_interface_client->async_request(_remote_stream_id + ".unsubscribe", { signal_id },
-        [](const boost::system::error_code& ec, const nlohmann::json& response)
+        [](const boost::system::error_code& /*ec*/, const nlohmann::json& /*response*/)
         {
         });
 }
@@ -615,21 +651,25 @@ bool wss::connection::subscribe(
         "signal",
         metadata);
 
+    auto self_weak = weak_from_this();
+    auto signal_weak = std::weak_ptr<detail::registered_local_signal>(signal);
+
     signal->on_data_published = signal->signal.on_data_published.connect(
-        std::bind(
-            &connection::on_local_signal_data_published,
-            shared_from_this(),
-            signal,
-            _1,
-            _2,
-            _3,
-            _4));
+        [self_weak, signal_weak](std::int64_t domain_value,
+                                 std::size_t sample_count,
+                                 const void* data,
+                                 std::size_t size) {
+            if (auto self = self_weak.lock())
+                if (auto s = signal_weak.lock())
+                    self->on_local_signal_data_published(s, domain_value, sample_count, data, size);
+        });
 
     signal->on_metadata_changed = signal->signal.on_metadata_changed.connect(
-        std::bind(
-            &connection::on_local_signal_metadata_changed,
-            shared_from_this(),
-            std::ref(*signal)));
+        [self_weak, signal_weak]() {
+            if (auto self = self_weak.lock())
+                if (auto s = signal_weak.lock())
+                    self->on_local_signal_metadata_changed(*s);
+        });
 
     return true;
 }
diff --git a/src/detail/command_interface_client_factory.cpp b/src/detail/command_interface_client_factory.cpp
index 7f8eea0..f101571 100644
--- a/src/detail/command_interface_client_factory.cpp
+++ b/src/detail/command_interface_client_factory.cpp
@@ -38,9 +38,20 @@ wss::detail::command_interface_client_factory::create_client(
         else
             port = interfaces["jsonrpc-http"]["port"];
 
+        std::string remote_endpoint_address;
+        try
+        {
+            auto remote_endpoint = peer->socket().remote_endpoint();
+            remote_endpoint_address = remote_endpoint.address().to_string();
+        }
+        catch (const std::exception& /*e*/)
+        {
+            return nullptr;
+        }
+
         return std::make_unique<http_command_interface_client>(
             peer->socket().get_executor(),
-            peer->socket().remote_endpoint().address().to_string(),
+            remote_endpoint_address,
             port,
             interfaces["jsonrpc-http"]["httpMethod"],
             interfaces["jsonrpc-http"]["httpPath"],
diff --git a/src/detail/http_client.cpp b/src/detail/http_client.cpp
index a64aa03..211c1f6 100644
--- a/src/detail/http_client.cpp
+++ b/src/detail/http_client.cpp
@@ -53,11 +53,12 @@ void wss::detail::http_client::async_request(
     _resolver.async_resolve(
         hostname,
         port,
-        std::bind(
-            &http_client::finish_resolve,
-            shared_from_this(),
-            std::placeholders::_1,
-            std::placeholders::_2));
+        [self_weak = weak_from_this()](const boost::system::error_code& ec,
+                    const boost::asio::ip::tcp::resolver::results_type& results)
+        {
+            if (auto self = self_weak.lock())
+                self->finish_resolve(ec, results);
+        });
 }
 
 void wss::detail::http_client::cancel()
@@ -75,10 +76,11 @@ void wss::detail::http_client::finish_resolve(
 
     _stream.async_connect(
         results,
-        std::bind(
-            &http_client::finish_connect,
-            shared_from_this(),
-            std::placeholders::_1));
+        [self_weak = weak_from_this()](const boost::system::error_code& ec, auto /*endpoint*/)
+        {
+            if (auto self = self_weak.lock())
+                self->finish_connect(ec); // finish_connect only takes ec
+        });
 }
 
 void wss::detail::http_client::finish_connect(
@@ -92,10 +94,11 @@ void wss::detail::http_client::finish_connect(
     boost::beast::http::async_write(
         _stream,
         _request,
-        std::bind(
-            &http_client::finish_write,
-            shared_from_this(),
-            std::placeholders::_1));
+        [self_weak = weak_from_this()](const boost::system::error_code& ec, std::size_t /*bytes_transferred*/)
+        {
+            if (auto self = self_weak.lock())
+                self->finish_write(ec);
+        });
 }
 
 void wss::detail::http_client::finish_write(
@@ -110,10 +113,11 @@ void wss::detail::http_client::finish_write(
         _stream,
         _buffer,
         _response,
-        std::bind(
-            &http_client::finish_read,
-            shared_from_this(),
-            std::placeholders::_1));
+        [self_weak = weak_from_this()](const boost::system::error_code& ec, std::size_t /*bytes_transferred*/)
+        {
+            if (auto self = self_weak.lock())
+                self->finish_read(ec);
+        });
 }
 
 void wss::detail::http_client::finish_read(
diff --git a/src/detail/http_client_servicer.cpp b/src/detail/http_client_servicer.cpp
index eeb1352..86be5f6 100644
--- a/src/detail/http_client_servicer.cpp
+++ b/src/detail/http_client_servicer.cpp
@@ -40,9 +40,10 @@ void wss::detail::http_client_servicer::stop()
 {
     boost::asio::post(
         stream.get_executor(),
-        [self = shared_from_this()]()
+        [self_weak = weak_from_this()]()
         {
-            self->close();
+            if (auto self = self_weak.lock())
+                self->close();
         });
 }
 
@@ -54,11 +55,11 @@ void wss::detail::http_client_servicer::do_read()
         stream,
         buffer,
         req = {},
-        std::bind(
-            &http_client_servicer::finish_read,
-            shared_from_this(),
-            _1,
-            _2));
+        [self_weak = weak_from_this()](const boost::system::error_code& ec, std::size_t bytes_transferred)
+        {
+            if (auto self = self_weak.lock())
+                self->finish_read(ec, bytes_transferred);
+        });
 }
 
 void wss::detail::http_client_servicer::do_write(
@@ -68,17 +69,16 @@ void wss::detail::http_client_servicer::do_write(
     boost::beast::async_write(
         stream,
         std::move(msg),
-        std::bind(
-            &http_client_servicer::finish_write,
-            shared_from_this(),
-            action,
-            _1,
-            _2));
+        [self_weak = weak_from_this(), action](const boost::system::error_code& ec, std::size_t bytes_transferred)
+        {
+            if (auto self = self_weak.lock())
+                self->finish_write(action, ec, bytes_transferred);
+        });
 }
 
 void wss::detail::http_client_servicer::finish_read(
     const boost::system::error_code& ec,
-    std::size_t bytes_transferred)
+    std::size_t /*bytes_transferred*/)
 {
     if (ec)
         return close(ec);
@@ -197,7 +197,7 @@ void wss::detail::http_client_servicer::finish_read(
 void wss::detail::http_client_servicer::finish_write(
     response_actions action,
     const boost::beast::error_code& ec,
-    std::size_t bytes_transferred)
+    std::size_t /*bytes_transferred*/)
 {
     if (ec)
         return close(ec);
diff --git a/src/detail/http_command_interface_client.cpp b/src/detail/http_command_interface_client.cpp
index 1932625..ea1244d 100644
--- a/src/detail/http_command_interface_client.cpp
+++ b/src/detail/http_command_interface_client.cpp
@@ -66,8 +66,8 @@ void wss::detail::http_command_interface_client::async_request(
         [this, handler = std::move(handler), client](
             const boost::system::error_code& ec,
             const boost::beast::http::response<boost::beast::http::string_body>& response,
-            boost::beast::tcp_stream& stream,
-            const boost::beast::flat_buffer& buffer)
+            boost::beast::tcp_stream& /*stream*/,
+            const boost::beast::flat_buffer& /*buffer*/)
         {
             _clients.erase(client);
 
@@ -84,7 +84,7 @@ void wss::detail::http_command_interface_client::async_request(
                 response_json = nlohmann::json::parse(response.body());
             }
 
-            catch (const nlohmann::json::exception& ex)
+            catch (const nlohmann::json::exception& /*ex*/)
             {
             }
 
diff --git a/src/detail/peer.cpp b/src/detail/peer.cpp
index 0a24fd2..10d8b01 100644
--- a/src/detail/peer.cpp
+++ b/src/detail/peer.cpp
@@ -25,7 +25,7 @@ using namespace std::placeholders;
 
 wss::detail::peer::peer(
         boost::asio::ip::tcp::socket&& socket,
-        bool is_client,
+        bool /*is_client*/,
         bool use_tcp_protocol,
         std::size_t rx_buffer_size,
         std::size_t tx_buffer_size)
@@ -48,9 +48,10 @@ void wss::detail::peer::run(const void *data, std::size_t size)
     if (size > _rx_buffer.size())
         boost::asio::post(
             _socket.get_executor(),
-            [self = shared_from_this()]()
+            [self_weak = weak_from_this()]()
             {
-                self->close(boost::asio::error::no_buffer_space);
+                if (auto self = self_weak.lock())
+                    self->close(boost::asio::error::no_buffer_space);
             });
 
     std::memcpy(
@@ -62,9 +63,10 @@ void wss::detail::peer::run(const void *data, std::size_t size)
 
     boost::asio::post(
         _socket.get_executor(),
-        [self = shared_from_this()]()
+        [self_weak = weak_from_this()]()
         {
-            self->process_buffer();
+            if (auto self = self_weak.lock())
+                self->process_buffer();
         });
 }
 
@@ -115,20 +117,22 @@ void wss::detail::peer::do_wait_rx()
 {
     _socket.async_wait(
         boost::asio::socket_base::wait_read,
-        std::bind(
-            &peer::finish_wait_rx,
-            shared_from_this(),
-            _1));
+        [self_weak = weak_from_this()](const boost::system::error_code& ec)
+        {
+            if (auto self = self_weak.lock())
+                self->finish_wait_rx(ec);
+        });
 }
 
 void wss::detail::peer::do_wait_tx()
 {
     _socket.async_wait(
         boost::asio::socket_base::wait_write,
-        std::bind(
-            &peer::finish_wait_tx,
-            shared_from_this(),
-            _1));
+        [self_weak = weak_from_this()](const boost::system::error_code& ec)
+        {
+            if (auto self = self_weak.lock())
+                self->finish_wait_tx(ec);
+        });
 
     _waiting_tx = true;
 }
diff --git a/src/server.cpp b/src/server.cpp
index d915db1..a743df7 100644
--- a/src/server.cpp
+++ b/src/server.cpp
@@ -116,7 +116,7 @@ void wss::server::on_listener_accept(
 }
 
 nlohmann::json wss::server::on_servicer_command_interface_request(
-    const std::shared_ptr<detail::http_client_servicer>& servicer,
+    const std::shared_ptr<detail::http_client_servicer>& /*servicer*/,
     const std::string& method,
     const nlohmann::json& params)
 {
@@ -139,12 +139,24 @@ nlohmann::json wss::server::on_servicer_command_interface_request(
 }
 
 void wss::server::on_servicer_websocket_upgrade(
-    const std::shared_ptr<detail::http_client_servicer>& servicer,
+    const std::shared_ptr<detail::http_client_servicer>& /*servicer*/,
     boost::asio::ip::tcp::socket& socket)
 {
+    std::string connection_local_stream_id;
+    try
+    {
+        auto remote_endpoint = socket.remote_endpoint();
+        connection_local_stream_id = remote_endpoint.address().to_string()
+                                     + ":" + std::to_string(remote_endpoint.port());
+    }
+    catch (const std::exception& /*e*/)
+    {
+        return;
+    }
     auto connection = std::make_shared<wss::connection>(
         std::move(socket),
-        false);
+        false,
+        connection_local_stream_id);
 
     if (_command_interface_port)
         connection->register_external_command_interface(
@@ -189,7 +201,7 @@ void wss::server::on_servicer_websocket_upgrade(
 
 void wss::server::on_servicer_closed(
     const std::shared_ptr<detail::http_client_servicer>& servicer,
-    const boost::system::error_code& ec)
+    const boost::system::error_code& /*ec*/)
 {
     _sessions.remove_if([&](const client_entry& entry)
     {
